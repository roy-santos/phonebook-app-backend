{"version":3,"sources":["services/phonebook.js","components/Filter.js","components/ContactForm.js","components/ContactList.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","phonebookServices","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deleteItem","delete","Filter","filter","handleFilter","value","onChange","ContactForm","name","handleNewName","number","handleNewNumber","handleSubmit","onSubmit","type","ContactList","props","contactsToShow","contacts","person","toLowerCase","includes","map","onClick","window","confirm","setMessage","setTimeout","setContacts","contact","Notification","message","NotificationStyle","color","background","fontSize","borderStyle","borderWidth","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","useEffect","initialContacts","event","target","preventDefault","personObject","find","p","console","log","returnedContact","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.16ebd73f.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteItem = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst phonebookServices = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  deleteItem,\r\n};\r\n\r\nexport default phonebookServices;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ filter, handleFilter }) => (\r\n  <div>\r\n    filter shown with: <input value={filter} onChange={handleFilter} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst ContactForm = ({\r\n  name,\r\n  handleNewName,\r\n  number,\r\n  handleNewNumber,\r\n  handleSubmit,\r\n}) => (\r\n  <form onSubmit={handleSubmit}>\r\n    <div>\r\n      Name: <input value={name} onChange={handleNewName} />\r\n    </div>\r\n    <div>\r\n      Number: <input value={number} onChange={handleNewNumber} />\r\n    </div>\r\n    <div>\r\n      <button type='submit'>add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default ContactForm;\r\n","import React from 'react';\r\nimport phonebookServices from '../services/phonebook';\r\n\r\nconst ContactList = (props) => {\r\n  const contactsToShow = props.filter\r\n    ? props.contacts.filter((person) =>\r\n        person.name.toLowerCase().includes(props.filter.toLowerCase())\r\n      )\r\n    : props.contacts;\r\n\r\n  const deleteContact = (name, id) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      phonebookServices.deleteItem(id);\r\n      props.setMessage(`Deleted ${name}`);\r\n      setTimeout(() => {\r\n        props.setMessage(null);\r\n      }, 5000);\r\n      props.setContacts(props.contacts.filter((contact) => contact.id !== id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {contactsToShow.map((person) => (\r\n        <div key={person.id}>\r\n          {person.name} : {person.number}{' '}\r\n          <button onClick={() => deleteContact(person.name, person.id)}>\r\n            delete\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactList;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n  const color =\r\n    message === null || message.includes('Deleted') || message.includes('Error')\r\n      ? 'red'\r\n      : 'green';\r\n\r\n  const NotificationStyle = {\r\n    color: color,\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderWidth: 3,\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  };\r\n\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div style={NotificationStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport phonebookServices from './services/phonebook';\nimport Filter from './components/Filter';\nimport ContactForm from './components/ContactForm';\nimport ContactList from './components/ContactList';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    phonebookServices.getAll().then((initialContacts) => {\n      setPersons(initialContacts);\n    });\n  }, []);\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    if (persons.map((person) => person.name).includes(newName)) {\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook, replace the old number with the new one?`\n        )\n      ) {\n        const person = persons.find((p) => p.name === newName);\n        console.log(person.id); // DELETE ME\n        phonebookServices\n          .update(person.id, personObject)\n          .then((returnedContact) => {\n            setMessage(`Updated ${returnedContact.name}`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n            setPersons(\n              persons.map((contact) =>\n                contact.id !== person.id ? contact : returnedContact\n              )\n            );\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch((error) => {\n            console.log(error.message);\n            if (error.message.includes('400')) {\n              setMessage('Error: Number must contain at least 8 digits');\n            } else {\n              setMessage(\n                `Error: Contact info for ${person.name} has already been removed from server`\n              );\n              setTimeout(() => {\n                setMessage(null);\n              }, 5000);\n              setPersons(\n                persons.filter((contact) => contact.name !== person.name)\n              );\n            }\n          });\n      }\n    } else {\n      phonebookServices\n        .create(personObject)\n        .then((returnedContact) => {\n          setMessage(`Added ${returnedContact.name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n          setPersons(persons.concat(returnedContact));\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch((error) => {\n          if (error.response.data.error.includes('name')) {\n            setMessage('Error: Name must contain at least 3 characters');\n          } else {\n            setMessage('Error: Number must contain at least 8 digits');\n          }\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <h3>Add New Contact</h3>\n      <ContactForm\n        name={newName}\n        handleNewName={handleNewName}\n        number={newNumber}\n        handleNewNumber={handleNewNumber}\n        handleSubmit={addPerson}\n      />\n      <h3>Contact List</h3>\n      <ContactList\n        filter={filter}\n        contacts={persons}\n        setContacts={setPersons}\n        setMessage={setMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}